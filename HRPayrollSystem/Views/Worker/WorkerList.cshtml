@using Microsoft.AspNetCore.Identity
@model IEnumerable<WorkersViewModel>
@{
    ViewData["Title"] = "WorkerList";
}
@inject UserManager<Worker> _userManager
    <div class="container">
        <div style="margin-top:10px; overflow-x:auto; overflow-y:auto;">
            <div class="d-flex">
                <select class="form-control col-md-3" id="selectFor">
                    <option>Select for</option>
                    <option value=":nth-child(1)">Name</option>
                    <option value=":nth-child(2)">Surname</option>
                    <option value=":nth-child(3)">Position</option>
                    <option value=":nth-child(4)">Department</option>
                </select>
                <div class="form-group col-md-3">
                    <input type="text" class="form-control" id="txtSearch" placeholder="Employee name" />
                </div>
            </div>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Surname</th>
                        <th>Position</th>
                        <th>Department</th>
                        <th>Beginnig Date</th>
                        <th>Crud</th>
                    </tr>
                </thead>
                <tbody id="workerAppend">
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td>@item.Name</td>
                            <td>@item.Surname</td>
                            <td>@item.Position</td>
                            <td>@item.Department</td>
                            <td>@item.BeginDate.ToShortDateString()</td>
                            <td class="d-flex">
                                @if (User.IsInRole(SD.HR.ToString()))
                                {
                                    <a asp-action="AddAbsens" asp-controller="Absens" asp-route-id="@item.WorkerId" class="btn btn-default text-danger">Add Absens   </a>
                                    <a asp-action="AddVacation" asp-controller="Vacation" asp-route-id="@item.WorkerId" class="btn btn-default text-primary">Add Vacation</a>
                                }

                                @if (User.IsInRole(SD.PayrollSpecalist.ToString()))
                                {
                                    <a asp-action="Edit" asp-controller="Worker" asp-route-id="@item.WorkerId" class="btn btn-default text-capitalize">Edit</a>
                                    <form asp-action="Delete" asp-controller="Worker" method="post" asp-route-id="@item.WorkerId">
                                        <input type="hidden" name="ID" value="@item.WorkerId" />
                                        <input type="submit" value="Delete" class="btn btn-default text-danger" />
                                    </form>
                                }
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
        <input type="hidden" class="workerSkipcount" id="workerTotalCount" value="@ViewBag.SkipCount" />
    </div>
